GridLayout:
	id: main
	cols: 1
	rows_minimum: {0:30}
	
	# Top menu (new, open, save)
	BoxLayout:
		orientation: 'horizontal'
		height: 30
		size_hint_y: None
		ImageButton:
			height: 30
			size_hint_y: None
			label: 'New'
			source: 'file-text'
			on_press: root.parent.on_new_project()
		ImageButton:
			height: 30
			size_hint_y: None
			label: 'Open'
			on_press: root.parent.on_open_project()
			source: 'folder-open'
		ImageButton:
			height: 30
			size_hint_y: None
			label: 'Save'
			on_press: root.parent.on_save_project()
			source: 'download'
		ImageButton:
			height: 30
			size_hint_y: None
			label: 'Save As'
			on_press: root.parent.on_save_as_project()
			source: 'download'
	
	# Main window screen
	GridLayout:
		cols: 2
		size: root.width, root.height-30
		pos: 0,30
		Splitter: # use splitter for basic functionality
			sizable_from: 'right'
			min_size: 150
			max_size: 450
			size_hint_x: None
			width: 250
			keep_within_parent: True
			strip_size: '8pt'			
			
			# Left side of the screen (audio tree + other buttons for it)
			BoxLayout:
				orientation: 'vertical'
				TextInput:
					height: 30
					size_hint_y: None
					text: 'Search'
				ScrollViewEx:
					size_hint: (1,1)
					AudioTreeView:
						id: audio_files
						hide_root: False
						size_hint: (1,None)
						height: self.minimum_height
				ImageButton:
					id: add_category
					on_press: root.parent.on_add_category()
					label: 'Add Category'
					source: 'folder'
					height: 30
					size_hint_y: None		
				ImageButton:
					id: addsound
					on_press: root.parent.on_add_sound()
					label: 'Add Sound'
					source: 'plus'
					height: 30
					size_hint_y: None
					
		# Lane body section		
		BoxLayout:
			orientation: 'vertical'
			ScrollView: # we add the widgets once we press the add widget button
				size_hint: (1, 1)
				GridLayout:
					id: lanes
					cols:1
					size_hint: (1, None)
					height: self.minimum_height
			BoxLayout:
				height: 50
				size_hint_y: None
				ImageButton:
					label: 'New Lane'
					height: 50
					source: 'plus-square-o'
					on_press: root.parent.on_add_lane()
				ImageButton:
					label: 'Stop All'
					height: 50
					source: 'stop'
